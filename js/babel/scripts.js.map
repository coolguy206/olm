{"version":3,"file":"scripts.js","names":["GOOGLE_API_KEY","SIGNUP_GENIUS_KEY","sheet_id","baseURL","range","sGBaseURL","sGSignUps","sGReports","message","$","document","ready","console","log","currentYear","Date","getFullYear","otherYear","currentMonth","getMonth","span1Year","span2Year","text","signUpArr","genius","fetch","then","data","json","map","val","i","startDate","startdatestring","toDateString","endDate","enddatestring","obj","title","id","signupid","url","signupurl","img","mainimage","push","start","end","signup","length","signUps","arr","j","email","amountpaid","firstname","lastname","phone","item","comments","comment","location","qty","myqty","err","show","hide","on","e","preventDefault","theEmail1","toLowerCase","theEmail2","theEventYear","split","theEvent","theEventURL","theEventStartDate","theEventEndDate","theEventImg","thisEmail","thisPhone","undefined","elem","kidname","grade","date","empty","append","css","titles","innerHTML","closest","addClass"],"sources":["../scripts.js"],"sourcesContent":["import $ from \"jquery\";\r\n// require('dotenv').config()\r\n// console.log(process.env)\r\n\r\n// const dotenv = require('dotenv');\r\n// dotenv.config();\r\n// console.log(process.env);\r\n\r\n// console.log(process.env)\r\n\r\nvar GOOGLE_API_KEY = \"AIzaSyD-bqqEqVuD1nhHqjozx5VnDAwKMGgpE7c\";\r\nvar SIGNUP_GENIUS_KEY = `?user_key=KzhGWmcydml5bFRlTHd6bzc4TWRUdz09`;\r\n\r\n//? to test error\r\n// var GOOGLE_API_KEY = \"xyz\";\r\n// var SIGNUP_GENIUS_KEY = \"xyz\";\r\n\r\nvar sheet_id = `1-2g3tZj_hjCnSxLquhs3uAAXTm4UZQ8AxDBPCvzKcTE`;\r\nvar baseURL = `https://sheets.googleapis.com/v4/spreadsheets/`;\r\nvar range = `A:Z`;\r\n\r\nvar sGBaseURL = `https://api.signupgenius.com/v2/k/`;\r\nvar sGSignUps = `signups/created/all/`;\r\nvar sGReports = `signups/report/all/`;\r\n\r\n\r\nvar message = ``;\r\n\r\n$(document).ready(function () {\r\n    console.log(`page ready`);\r\n\r\n    var currentYear = new Date().getFullYear();\r\n    var otherYear = ``;\r\n    var currentMonth = new Date().getMonth();\r\n\r\n    var span1Year = ``;\r\n    var span2Year = ``;\r\n\r\n    //? FOR TEST YEAR AND MONTH\r\n    // var currentYear = 2024;\r\n    // var currentMonth = 1;\r\n    \r\n    if(currentMonth > 7){\r\n        otherYear = currentYear + 1;\r\n        span1Year = currentYear;\r\n        span2Year = currentYear + 1;\r\n    } else {\r\n        otherYear = currentYear - 1;\r\n        span1Year = currentYear -1;\r\n        span2Year = currentYear;\r\n    }\r\n\r\n    //? SET THE H1 YEARS\r\n    $('.year1').text(span1Year);\r\n    $('.year2').text(span2Year);\r\n\r\n    var signUpArr = {\r\n        genius: [],\r\n        // google: []\r\n    };\r\n\r\n    //? GET SIGNUPS FROM SIGNUP GENIUS\r\n    fetch(`${sGBaseURL}${sGSignUps}${SIGNUP_GENIUS_KEY}`).then((data) => { return data.json() }).then((data) => {\r\n        console.log(`sign ups`);\r\n        console.log(data);\r\n\r\n        data.data.map((val, i) => {\r\n            // console.log(val);\r\n\r\n            var startDate = val.startdatestring;\r\n            startDate = new Date(startDate).toDateString();\r\n\r\n            var endDate = val.enddatestring;\r\n            endDate = new Date(endDate).toDateString();\r\n\r\n            var obj = {\r\n                title: val.title,\r\n                id: val.signupid,\r\n                url: val.signupurl,\r\n                img: val.mainimage,\r\n                startDate: startDate,\r\n                endDate: endDate,\r\n            }\r\n            signUpArr.genius.push(obj);\r\n            // console.log(obj);\r\n        });\r\n        // console.log(`signUpArr`);\r\n        // console.log(signUpArr);\r\n\r\n        return signUpArr;\r\n\r\n        //? GET THE REPORTS FROM SIGNUP GENIUS\r\n    }).then((signUpArr) => {\r\n        signUpArr.genius.map((val, i) => {\r\n            fetch(`${sGBaseURL}${sGReports}${val.id}/${SIGNUP_GENIUS_KEY}`).then((data) => { return data.json() }).then((data) => {\r\n                // console.log(val.startDate);\r\n                // console.log(val.endDate);\r\n                var start = new Date(val.startDate).toDateString();\r\n                var end = new Date(val.endDate).toDateString();\r\n                console.log(`${val.title} ${start} - ${end}`);\r\n                console.log(`count: ${data.data.signup.length}`)\r\n                // console.log(`reports`);\r\n                console.log(data);\r\n                // console.log(`signup`);\r\n\r\n                val.signUps = [];\r\n                // console.log(val);\r\n                data.data.signup.map((arr, j) => {\r\n                    if (arr.email !== ``) {\r\n                        var obj = {\r\n                            amountpaid: arr.amountpaid,\r\n                            email: arr.email,\r\n                            firstname: arr.firstname,\r\n                            lastname: arr.lastname,\r\n                            phone: arr.phone,\r\n                            item: arr.item,\r\n                            comments: arr.comment,\r\n                            location: arr.location,\r\n                            qty: arr.myqty\r\n                        }\r\n                        val.signUps.push(obj);\r\n                    }\r\n                });\r\n                // console.log(val);\r\n            }).catch((err) => {\r\n                console.log(`oops something went wrong`);\r\n                console.log(err);\r\n                $('.the-error').show();\r\n                $(`.the-form`).hide();\r\n            });\r\n            // console.log(`outside fetch`);\r\n            // console.log(signUpArr);\r\n        });\r\n\r\n        return signUpArr;\r\n \r\n    })\r\n\r\n/*    \r\n    //? GET GOOGLE SHEETS\r\n    .then((signUpArr) => {\r\n        fetch(`${baseURL}${sheet_id}?key=${GOOGLE_API_KEY}&includeGridData=true`).then((data) => { return data.json() }).then((data) => {\r\n            // console.log(`google sheets`);\r\n            // console.log(data);\r\n\r\n            data.sheets.map((val, i) => {\r\n                var obj = {\r\n                    title: val.properties.title,\r\n                    signUps: []\r\n                }\r\n                val.data[0].rowData.map((arr, j) => {\r\n                    if (j !== 0) {\r\n                        if (arr.values[0].formattedValue !== undefined) {\r\n                            var d = new Date(arr.values[0].formattedValue).toDateString()\r\n                            var signUpObj = {\r\n                                date: d,\r\n                                email: arr.values[1].formattedValue,\r\n                                name: arr.values[2].formattedValue,\r\n                                kidname: arr.values[3].formattedValue,\r\n                                grade: arr.values[4].formattedValue,\r\n                            }\r\n                            obj.signUps.push(signUpObj);\r\n                        }\r\n                    }\r\n                });\r\n                signUpArr.google.push(obj);\r\n            });\r\n            // console.log(signUpArr);\r\n            // return signUpArr;\r\n        }).catch((err) => {\r\n            console.log(`oops something went wrong`);\r\n            console.log(err);\r\n            $('.the-error').show();\r\n            $(`.the-form`).hide();\r\n        });;\r\n\r\n        return signUpArr;\r\n\r\n    })\r\n*/\r\n\r\n    .then((signUpArr) => {\r\n        \r\n        console.log(`sign up genius data ready to find by emails`);\r\n        console.log(signUpArr);\r\n\r\n        $(`.the-form`).show();\r\n\r\n        $('form').on('submit', function (e) {\r\n            e.preventDefault();\r\n\r\n            //! reset message var\r\n            message = ``;\r\n\r\n            //! reset error message & ul\r\n            $('.error-message, ul').hide();\r\n\r\n            var theEmail1 = $('input[name=\"email1\"]').val().toLowerCase();\r\n            var theEmail2 = $('input[name=\"email2\"]').val().toLowerCase();\r\n            // console.log(\"ðŸš€ ~ file: scripts.js ~ line 52 ~ $ ~ theEmail\", theEmail1)\r\n            // console.log(\"ðŸš€ ~ file: scripts.js ~ line 53 ~ $ ~ theEmail\", theEmail2)\r\n\r\n            if (theEmail1 !== `` || theEmail2 !== ``) {\r\n\r\n                //?execute the loop\r\n                signUpArr.genius.map((val, i) => {\r\n                    var theEventYear = val.endDate;\r\n                    theEventYear = theEventYear.split(' ')[3];\r\n                    // console.log(theEventYear);\r\n\r\n                    if(currentYear == theEventYear || otherYear == theEventYear){\r\n\r\n                    var theEvent = val.title;\r\n                    var theEventURL = val.url;\r\n                    var theEventStartDate = val.startDate;\r\n                    var theEventEndDate = val.endDate;\r\n                    var theEventImg = val.img;\r\n\r\n                    val.signUps.map((arr, j) => {\r\n                        var thisEmail = arr.email.toLowerCase();\r\n                        var thisPhone = arr.phone;\r\n                        if (thisPhone == undefined) {\r\n                            thisPhone = ``;\r\n                        }\r\n                        if (thisEmail == theEmail1 || thisEmail == theEmail2) {\r\n                            var elem = `<li>\r\n                        <a href=\"${theEventURL}\" target=\"_blank\">\r\n                            <img src=\"${theEventImg}\" alt=\"${theEvent}\">\r\n                            <h3 class=\"event-title\">${theEvent}</h3>\r\n                        </a>\r\n                        <h4>Date: ${theEventStartDate} - ${theEventEndDate}</h4>\r\n                        <h4>Email: ${arr.email}</h4>\r\n                        <h4>Name: ${arr.firstname} ${arr.lastname}</h4>\r\n                        <h4>Phone: ${thisPhone}</h4>\r\n                        <!--<h4>Amount Paid: ${arr.amountpaid}</h4>-->\r\n                        <h4 class=\"item\">Item: ${arr.item}</h4>\r\n                        <h4 class=\"location\">Location: ${arr.location}</h4>\r\n                        <h4>Qty: ${arr.qty}</h4>\r\n                        <h4>Comments: ${arr.comments}</h4>\r\n                        \r\n                        <!-- <h4>Child: ${arr.kidname}</h4>\r\n                        <h4>Grade: ${arr.grade}</h4>\r\n                        <h4>Date: ${arr.date}</h4> -->\r\n                    </li>`;\r\n\r\n                            message += elem;\r\n                        }\r\n                    });\r\n                }\r\n                });\r\n\r\n/*\r\n                signUpArr.google.map((val, i) => {\r\n                    var theEvent = val.title;\r\n                    val.signUps.map((arr, j) => {\r\n                        var thisEmail = arr.email.toLowerCase();\r\n                        if (thisEmail == theEmail1 || thisEmail == theEmail2) {\r\n                            // console.log(`match`);\r\n                            // console.log(\"ðŸš€ ~ file: scripts.js ~ line 56 ~ $.each ~ thisEmail == theEmail\", thisEmail == theEmail1);\r\n                            // console.log(\"ðŸš€ ~ file: scripts.js ~ line 56 ~ $.each ~ thisEmail == theEmail\", thisEmail == theEmail2);\r\n                            var elem = `<li>\r\n                            <h3>${theEvent}</h3>\r\n                            <h4>Email: ${arr.email}</h4>\r\n                            <h4>Name: ${arr.name}</h4>\r\n                            <h4>Child: ${arr.kidname}</h4>\r\n                            <h4>Grade: ${arr.grade}</h4>\r\n                            <h4>Date: ${arr.date}</h4>\r\n                        </li>`;\r\n\r\n                            message += elem;\r\n\r\n                        }\r\n                    });\r\n                })\r\n*/\r\n\r\n                //!clear all previous submissions\r\n                $('ul').empty();\r\n\r\n                if (message !== ``) {\r\n                    //?display on page\r\n                    $('ul').append(message);\r\n                    $('ul').css('display', 'flex');\r\n                } else {\r\n                    //!display error message\r\n                    $('.error-message').show();\r\n                }\r\n\r\n                //! find duplicates and highlight them\r\n                var titles = $('ul h3');\r\n                // console.log(\"ðŸš€ ~ file: scripts.js ~ line 99 ~ titles\", titles)\r\n\r\n                for (var i = 0; i < titles.length - 1; i++) {\r\n\r\n                    if (titles[i + 1].innerHTML == titles[i].innerHTML) {\r\n                        // console.log(`match`);\r\n                        // console.log(titles[i + 1].innerHTML);\r\n                        // console.log(titles[i].innerHTML);\r\n\r\n                        $(titles[i + 1]).closest('li').addClass('duplicate');\r\n                        $(titles[i]).closest('li').addClass('duplicate');\r\n                    }\r\n                }\r\n\r\n/*\r\n                //! add up total points\r\n                var locationsArr = $('.location');\r\n                var itemsArr = $('.item');\r\n                console.log(locationsArr, itemsArr);\r\n                var pointsCount = [];\r\n                itemsArr.map((i, val) => {\r\n                    // console.log(val);\r\n                    console.log(val.textContent);\r\n                    if (val.textContent.indexOf('pts') !== -1) {\r\n                        pointsCount.push(val.textContent);\r\n                    }\r\n                });\r\n\r\n                itemsArr.map((i, val) => {\r\n                    // console.log(val);\r\n                    console.log(val.textContent);\r\n                    if (val.textContent.indexOf('pts') !== -1) {\r\n                        pointsCount.push(val.textContent);\r\n                    }\r\n                });\r\n                console.log(`pointsCount`);\r\n                console.log(pointsCount);\r\n\r\n                //? DEMONSTRATION EMAILS\r\n                //cherryrose1010@gmail.com\r\n                //Vph103@yahoo.com\r\n\r\n                //? DEMONSTRATION CODE PUT INTO CONSOLE IN BROWSER\r\n                //? GET THE POINTS\r\n                \r\n                var pointsCount = [];\r\n                var itemsArr =  document.getElementsByClassName('item');\r\n                for (i = 0; i < itemsArr.length; i++) {\r\n                    //console.log(itemsArr[i].textContent);\r\n                    var pts = itemsArr[i].textContent.split(' ');\r\n                    for (j = 0; j < pts.length; j++) {\r\n                        //console.log(pts[j]);\r\n                        if (pts[j].indexOf('pts') !== -1) {\r\n                            pts = Number(pts[j].split('pts')[0]);\r\n                            pointsCount.push(pts);\r\n                        }\r\n                    }\r\n                    // console.log(pts);\r\n                }\r\n\r\n                //console.log(pointsCount);\r\n\r\n                //? DO THE MATH & ADD THE POINTS\r\n                var theCount = 0;\r\n                for (i = 0; i < pointsCount.length; i++) {\r\n\r\n                    theCount += pointsCount[i];\r\n\r\n                }\r\n\r\n                //console.log(theCount);\r\n                //? DISPLAY THE TOTAL POINTS\r\n                document.getElementsByClassName('the-points')[0].children[0].innerHTML = theCount;\r\n                document.getElementsByClassName('the-points')[0].style.display = 'block';\r\n*/              \r\n                \r\n            }\r\n\r\n\r\n        });\r\n\r\n    }).catch((err) => {\r\n        console.log(`oops something went wrong`);\r\n        console.log(err);\r\n        $('.the-error').show();\r\n        $(`.the-form`).hide();\r\n    });\r\n\r\n\r\n});\r\n\r\n\r\n\r\n"],"mappings":"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"}