{"version":3,"file":"scripts.js","names":["GOOGLE_API_KEY","sheet_id","baseURL","range","message","$","document","ready","console","log","get","data","theSheets","sheets","on","e","preventDefault","hide","theEmail1","val","toLowerCase","theEmail2","each","i","theEvent","properties","title","rowData","j","str","thisDate","values","formattedValue","thisEmail","thisName","thisChild","undefined","elem","empty","append","css","show"],"sources":["../scripts.js"],"sourcesContent":["import $ from \"jquery\";\r\n// require('dotenv').config()\r\n// console.log(process.env)\r\n\r\n// const dotenv = require('dotenv');\r\n// dotenv.config();\r\n// console.log(process.env);\r\n\r\nvar GOOGLE_API_KEY = \"\";\r\nvar sheet_id = `1-2g3tZj_hjCnSxLquhs3uAAXTm4UZQ8AxDBPCvzKcTE`;\r\nvar baseURL = `https://sheets.googleapis.com/v4/spreadsheets/`;\r\nvar range = `A:Z`;\r\n\r\n\r\nvar message = ``;\r\n\r\n$(document).ready(function () {\r\n    console.log(`page ready`);\r\n    $.get(`${baseURL}${sheet_id}?key=${GOOGLE_API_KEY}&includeGridData=true`, function (data) {\r\n        console.log(data);\r\n\r\n        var theSheets = data.sheets;\r\n\r\n        $('form').on('submit', function (e) {\r\n            e.preventDefault();\r\n\r\n            //reset message var\r\n            message = ``;\r\n\r\n            //reset error message & ul\r\n            $('.error-message, ul').hide();\r\n\r\n            var theEmail1 = $('input[name=\"email1\"]').val().toLowerCase();\r\n            var theEmail2 = $('input[name=\"email2\"]').val().toLowerCase();\r\n            console.log(\"ðŸš€ ~ file: scripts.js ~ line 52 ~ $ ~ theEmail\", theEmail1)\r\n            console.log(\"ðŸš€ ~ file: scripts.js ~ line 53 ~ $ ~ theEmail\", theEmail2)\r\n\r\n            //execute the loop\r\n            $.each(theSheets, function (i, val) {\r\n                console.log(\"ðŸš€ ~ file: scripts.js ~ line 43 ~ $.each ~ val\", val)\r\n\r\n                var theEvent = val.properties.title;\r\n                console.log(\"ðŸš€ ~ file: scripts.js ~ line 47 ~ $.each ~ theEvent\", theEvent);\r\n\r\n                // loop the rowData to find email\r\n                $.each(val.data[0].rowData, function (j, str) {\r\n                    if (j !== 0) {\r\n                        var thisDate = str.values[0].formattedValue;\r\n                        var thisEmail = str.values[1].formattedValue;\r\n                        var thisName = str.values[2].formattedValue;\r\n                        var thisChild = str.values[3].formattedValue;\r\n                        // console.log(\"ðŸš€ ~ file: scripts.js ~ line 53 ~ $.each ~ thisEmail\", thisEmail);\r\n                        if (thisEmail !== undefined) {\r\n                            thisEmail = thisEmail.toLowerCase();\r\n\r\n                            if (thisEmail == theEmail1 || thisEmail == theEmail2) {\r\n                                console.log(`match`);\r\n                                console.log(\"ðŸš€ ~ file: scripts.js ~ line 56 ~ $.each ~ thisEmail == theEmail\", thisEmail == theEmail1);\r\n                                console.log(\"ðŸš€ ~ file: scripts.js ~ line 56 ~ $.each ~ thisEmail == theEmail\", thisEmail == theEmail2);\r\n                                var elem = `<li>\r\n                                    <h3>${theEvent}</h3>\r\n                                    <h4>Email: ${thisEmail}</h4>\r\n                                    <h4>Name: ${thisName}</h4>\r\n                                    <h4>Child: ${thisChild}</h4>\r\n                                    <h4>Date: ${thisDate}</h4>\r\n                                </li>`;\r\n\r\n                                message += elem;\r\n\r\n                            }\r\n\r\n                        }\r\n                    }\r\n                });\r\n\r\n            });\r\n\r\n            //clear all previous submissions\r\n            $('ul').empty();\r\n\r\n            if (message !== ``) {\r\n                //display on page\r\n                $('ul').append(message);\r\n                $('ul').css('display', 'flex');\r\n            } else {\r\n                //display error message\r\n                $('.error-message').show();\r\n            }\r\n\r\n\r\n        });\r\n\r\n\r\n    });\r\n\r\n});\r\n\r\n\r\n"],"mappings":"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"}